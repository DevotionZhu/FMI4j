
plugins {
    id "java-library"
    id "com.github.johnrengelman.shadow" version "4.0.4"
}

apply from: rootProject.file("gradle/junit.gradle")
apply from: rootProject.file("gradle/copyfmus.gradle")
apply from: rootProject.file("gradle/mavenpublish.gradle")

dependencies {

    api project(':fmi-base')
    api group: 'org.apache.commons', name: 'commons-math3', version: '3.6.1'

    testImplementation group: 'org.siani.javafmi', name: 'fmu-wrapper', version: '2.25.1'

}

shadowJar {
    baseName += "-shadow"
    archiveClassifier = null
    archiveVersion = null
}

if (!project.getProperties().get("skipBuildNative", false)) {
    compileKotlin.dependsOn(':fmi-native:copyNativeLibs')
}
