
plugins {
    id 'groovy'
    id 'maven-publish'
    id 'java-gradle-plugin'
    id 'com.gradle.plugin-publish' version '0.10.0'
}

version = "0.14.0"
group = "no.ntnu.ihb.fmi4j"
println("maven version for ${archivesBaseName} is: ${version}")

repositories {
    mavenLocal()
    maven { url 'https://jitpack.io' }
}

dependencies {
    compile gradleApi()
    compile localGroovy()
    implementation group: "com.github.NTNU-IHB.FMI4j", name: 'fmi-import', version: version
}

gradlePlugin {
    plugins {
        fmuPlugin {
            id = "${group}.FmuPlugin"
            implementationClass = "${group}.FmuPlugin"
        }
    }
}

pluginBundle {
    website = 'https://ntnu-ihb.github.io/FMI4j/'
    vcsUrl = 'https://github.com/NTNU-IHB/FMI4j'
    description = "Gradle plugin for simplifying programmatic interaction with FMUs"
    tags = ['fmi', 'fmu', 'fmi4j']

    plugins {
        fmuPlugin {
            displayName = "Gradle FMU plugin"
        }
    }
}

publishing {
    publications {
        mavenJava(MavenPublication) {
            from components.java
            pom {
                name = "FmuPlugin"
            }
        }
    }
}
