package no.mechatronics.sfi.fmu2jar

import no.mechatronics.sfi.fmi4j.Fmi2Simulation
import no.mechatronics.sfi.fmi4j.FmuFile
import no.mechatronics.sfi.fmi4j.CoSimulationFmu
import no.mechatronics.sfi.fmi4j.modeldescription.ModelDescription
import no.mechatronics.sfi.fmi4j.modeldescription.ModelVariables
import no.mechatronics.sfi.fmi4j.modeldescription.ScalarVariable



class {{modelName}} private constructor(
    val fmu: Fmi2Simulation
) : Fmi2Simulation by fmu {

    companion object {

        val fmuFile: FmuFile

        init {
            fmuFile = FmuFile({{modelName}}.javaClass.classLoader.getResource("{{fileName}}"))
        }

        @JvmStatic
        fun build() : {{modelName}} {
            return {{modelName}}(CoSimulationFmu(fmuFile))
        }

    }

    {{instanceMethods}}

}